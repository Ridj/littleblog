{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä{% endblock title %}
{% block header_title %}–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–ª–æ–≥–∞{% endblock header_title %}

{% block style %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/blog.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/article.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/constructor.css' %}">
    {% if blog %} <style> .art_add { margin-top: -4vh; } </style> {% endif %}
{% endblock style %}


{% block content %}
  <div class="select_color_scheme">
    <input type="checkbox">
    <label><i></i></label>
  </div>

  <fieldset class="constructor__disclaimer">
    <legend>–°–ø—Ä–∞–≤–∫–∞</legend>

      <span class="constructor__arrow up_ar">ü¢Å</span>
      <span class="constructor__disclaimer_help up_help">
        <b>–ü–∞–Ω–µ–ª—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</b>
        <i>
          –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–∞—à–∞ —Å—Ç–∞—Ç—å—è –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.
          –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –ø—Ä–∞–≤–æ–º —É–≥–ª—É –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏, –Ω–∞–∂–º–∏—Ç–µ –µ—ë,
          –∫–æ–≥–¥–∞ –≤–∞—à–∞ —Å—Ç–∞—Ç—å—è –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞.
        </i>
      </span>

      <span class="constructor__arrow left_ar">ü¢Ä</span>
      <span class="constructor__disclaimer_help left_help">
        <b>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–º.</b>
        <i>
          –ù–∞ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–º –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
          - —Ñ–æ–Ω, —à—Ä–∏—Ñ—Ç –∏ –ø—Ä–æ—á–µ–µ. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –±—ã—Å—Ç—Ä–æ–π
          —Ä–∞–±–æ—Ç—ã. –î–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - "Web Developer", –≥–¥–µ
          —Å –ø–æ–º–æ—â—å—é CSS –≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ.
        </i>
      </span>

      <span class="constructor__arrow right_ar">ü¢Ç</span>
      <span class="constructor__disclaimer_help right_help">
        <b>–î–µ—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</b>
        <i>
          –í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Å–≤–æ—ë –º–µ—Å—Ç–æ –≤ –¥–µ—Ä–µ–≤–µ. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –±–ª–æ–∫
          –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–ª–∏ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è. –¢–∞–∫–∂–µ, –∫–æ–≥–¥–∞ –≤—ã
          —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç, –æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –¥–µ—Ä–µ–≤–∞, –∞ –Ω–∞ —ç—Ç–æ–π –ø–∞–Ω–µ–ª–∏
          –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –ø–æ—Ä—è–¥–æ–∫, –ø–µ—Ä–µ—Ç–∞—â–∏–≤ –º—ã—à–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –∫—É–¥–∞ –Ω—É–∂–Ω–æ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
          –µ–≥–æ. –ó–¥–µ—Å—å –∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –≤ —Å—Ç–∞—Ç—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ.
        </i>
      </span>

      <span class="constructor__disclaimer_help down_help">
        <b>–†–∞–±–æ—á–∞—è –ø–∞–Ω–µ–ª—å.</b>
        <i>
          –ê –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∞–≥–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.
          –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ –¥–µ—Ä–µ–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏
          –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º!
        </i>
      </span>
      <span class="constructor__arrow down_ar">üìñ</span>

      <span class="constructor__disclaimer_closer" title="–°–∫—Ä—ã—Ç—å —Å–ø—Ä–∞–≤–∫—É">‚åß</span>
  </fieldset>

  <span class="constructor__disclaimer_opener open"
        title="–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É">‚ùî –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É ‚ùî</span>

  <div class="constructor editor">
    <textarea id="editor_content">
    </textarea>
  </div>

  <div class="constructor view">
    <div class="view_inner">
      <fieldset class="blog__article" id="newarticle">
        <legend>{% if blog %}{{ blog.name }}{% else %}–ù–∞–∑–≤–∞–Ω–∏–µ{% endif %}</legend>
        <div class="blog__content" id="newcontent">
          <h1>–ü—É—Å—Ç–æ</h1>
        </div>
        <span class="blog__author">–ê–≤—Ç–æ—Ä: <b>{{ user.username }}</b></span>
      </fieldset>
    </div>

    <div class="article__form_div">
      <button class="article__form_cancel"
              onclick="confirmPublication()">–û—Ç–º–µ–Ω–∞</button>

      <form class="article__form" method="POST">
        {% csrf_token %}
        <table class="article__form_table">{{ art_form.as_table }}</table>
          <input class="article__form_submit" type="submit" value="–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å!">
      </form>
    </div>

    <button class="constructor__button fix_button"
            onclick="fixConstructorView()">üìå</button>
    <button class="constructor__button view_button"
            onclick="changeConstructorView()">üí†</button>
    <button class="constructor__button publish"
            onclick="confirmPublication()">üìú</button>
    <button class="publish__button"
            onclick="confirmPublication()">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å!</button>

    <img class="content__painting" src="{% if scheme != 'night' %}
      {% static 'images/blog/background.png' %}{% else %}
      {% static 'images/blog/background1.png' %}{% endif %}">
  </div>

  <div class="constructor menu">
    <span class="elem_logo">–î—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</span>

    <div class="elem_tree_container">
      <ul id="elem__tree"></ul>
    </div>

    <button class="constructor__button fix_button"
            onclick="fixConstructorMenu()">üìå</button>

    <button class="constructor__button settings_button"
            onclick="" title="–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">üîß</button>

    <button class="constructor__button help_button"
            onclick="" title="–ü–æ–º–æ—â—å">üì∑</button>
  </div>

  <div class="constructor draggable">
    <h2 class="drag_elem_name">–ù–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞</h2>
    <span class="elem_logo">–°–≤–æ–π—Å—Ç–≤–∞</span>
    <button class="constructor__button fix_button"
            onclick="fixConstructorDrag()">üìå</button>
  </div>

{% endblock content %}


{% block script_builder %}
  <script>
    setColorSchemeSelector('{{ scheme }}');

    {% if blog %}
      fillBlogContent('newcontent',
        '{{ blog.content }}' + '{{ blog_add.content_add }}');
    {% endif %}
  </script>
  <script src="{% static 'scripts/constructor_page_builder.js'%}"></script>
  <script src="{% static 'scripts/constructor.js'%}"></script>
{% endblock script_builder %}
